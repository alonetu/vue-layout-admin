{"remainingRequest":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\FontEnd\\Project\\vue-layout-admin\\src\\components\\sidebar.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\src\\components\\sidebar.vue","mtime":1592835053553},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":1588831399122},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1588831399341},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1585878924250},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1585878907314},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585878908583},{"path":"D:\\FontEnd\\Project\\vue-layout-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1588831399341}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLW1lbnUtc2lkZWJhciB7DQogIGhlaWdodDogMTAwJTsNCiAgLm1lbnUtc2lkZWJhci1oZWFkew0KICAgIGhlaWdodDogNjBweDsNCiAgICBsaW5lLWhlaWdodDogNjBweDsNCiAgICBtYXJnaW4tYm90dG9tOiAycHg7DQogICAgJjpob3ZlciB7DQogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sidebar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-menu\r\n    :default-active=\"defaultPage\"\r\n    :unique-opened=true\r\n    :collapse=\"isCollapse\"\r\n    class=\"el-menu-sidebar\"\r\n    background-color=\"#1f2d3d\"\r\n    text-color=\"#fff\"\r\n    active-text-color=\"#1890ff\"\r\n    router\r\n  >\r\n    <el-menu-item class=\"menu-sidebar-head\">\r\n      <span slot=\"title\">vue-simple-admin</span>\r\n    </el-menu-item>\r\n    <template v-for=\"menu in sideMenu\">\r\n      <el-submenu\r\n        v-if=\"menu.children && menu.children.length !== 0\"\r\n        :index=\"menu.path\"\r\n        :key=\"menu.path\"\r\n      >\r\n        <template slot=\"title\">\r\n          <i :class=\"menu.icon\"></i>\r\n          <span slot=\"title\">{{ menu.label }}</span>\r\n        </template>\r\n        <el-menu-item\r\n          v-for=\"childMenu in menu.children\"\r\n          :key=\"childMenu.path\"\r\n          :index=\"childMenu.path\"\r\n        >\r\n          <i :class=\"childMenu.icon\"></i>\r\n          <span slot=\"title\">{{ childMenu.label }}</span>\r\n        </el-menu-item>\r\n      </el-submenu>\r\n      <el-menu-item\r\n        v-else\r\n        :index=\"menu.path\"\r\n        :key=\"menu.path\"\r\n        @click=\"activePage(menu)\"\r\n      >\r\n        <i :class=\"menu.icon\"></i>\r\n        <span slot=\"title\">{{ menu.label }}</span>\r\n      </el-menu-item>\r\n    </template>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport {getAllOpenPage} from '@/utils/'\r\n\r\nexport default {\r\n  name: 'sidebar',\r\n  props: {\r\n    isCollapse: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    routerPath: {\r\n      type: String,\r\n      default: '/home'\r\n    }\r\n  },\r\n  watch: {\r\n    routerPath: {\r\n      handler(val) {\r\n        this.defaultPage = val;\r\n      },\r\n      deep: true\r\n    },\r\n    $route() {\r\n      this.defaultPage = window.location.pathname;\r\n    }\r\n  },\r\n  mounted() {\r\n    // 如果sessionStorage中保存了所有打开的页面，则从sessionStage中取值\r\n    this.allOpenPage = getAllOpenPage();\r\n    this.defaultPage = window.location.pathname;\r\n  },\r\n  data() {\r\n    return {\r\n      defaultPage: '',\r\n      sideMenu: [\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '首页',\r\n          path: '/home'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '上下布局',\r\n          path: '/up-down-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '左右布局',\r\n          path: '/left-right-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '居中布局',\r\n          path: '/center-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '左上下布局',\r\n          path: '/left-upanddown-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '上左右布局',\r\n          path: '/up-leftandright-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '卡片布局',\r\n          path: '/card-layout'\r\n        },\r\n        {\r\n          icon: 'el-icon-document',\r\n          label: '上下卡片布局',\r\n          path: '/left-card-layout'\r\n        }\r\n      ],\r\n      allOpenPage: [{\r\n        icon: 'el-icon-document',\r\n        label: '首页',\r\n        path: '/home'\r\n      }]\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 路由跳转, 保存已打开页面到vuex中\r\n     */\r\n    activePage(menu) {\r\n      if(menu.label === '首页') { return }\r\n      const index = this.allOpenPage.findIndex(item => item.label === menu.label);\r\n      if(-1 === index) {\r\n        this.allOpenPage.push(menu);\r\n      }\r\n      this.$store.commit('allOpenPage', this.allOpenPage);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-menu-sidebar {\r\n  height: 100%;\r\n  .menu-sidebar-head{\r\n    height: 60px;\r\n    line-height: 60px;\r\n    margin-bottom: 2px;\r\n    &:hover {\r\n      background: transparent;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}